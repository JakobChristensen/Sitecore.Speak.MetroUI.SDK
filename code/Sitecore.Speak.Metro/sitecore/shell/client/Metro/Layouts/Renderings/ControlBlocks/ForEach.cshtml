@using System.Text
@using Sitecore.Data.Items
@using Sitecore.Mvc
@model Sitecore.Shell.Client.Metro.Layouts.Renderings.ControlBlocks.ForEachRenderingModel
@{
  var items = Model.Rendering.Item.Database.GetItem(Model.ChildrenOf).Children;
  var writer = new StringBuilder();
}  
@foreach (Item item in items)
{
  using (new ContextItemSwitcher(item))
  {
    writer.Append(Html.Sitecore().Placeholder(Model.ControlId + ".Content"));
  }
}       
@Html.Raw(writer.ToString())
